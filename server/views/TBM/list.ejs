<%- include('../Partials/header.ejs') %>
<%- include('../Partials/main_nav.ejs') %>

<div class="container">
  <div class="d-flex justify-content-between align-items-center mb-4">
    <h1>Tournaments</h1>
    <a href="/tournaments/add" class="btn btn-success">
      Add Tournament <i class="fa-solid fa-plus"></i>
    </a>
  </div>

  <% if (TournamentList && TournamentList.length > 0) { %>
    <div class="table-responsive">
      <table class="table table-bordered table-striped table-hover text-center">
        <thead class="table-dark">
          <tr>
            <th>Name</th>
            <th>Number of Teams</th>
            <th>Teams</th>
            <th>Start Date</th>
            <th>End Date</th>
            <th>Status</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <% TournamentList.forEach(tournament => { %>
            <tr>
              <td><%= tournament.tournamentName %></td>
              <td><%= tournament.numberOfTeams %></td>
              <td><%= tournament.teams.join(', ') %></td>
              <td><%= tournament.startDate.toISOString().split('T')[0] %></td>
              <td><%= tournament.endDate.toISOString().split('T')[0] %></td>
              <td><%= tournament.status %></td>
              <td>
                <div class="d-flex justify-content-center gap-2">
                  <a href="/tournaments/edit/<%= tournament._id %>" class="btn btn-primary btn-sm">
                    <i class="fas fa-pencil-alt"></i> Edit
                  </a>
                  <a href="/tournaments/delete/<%= tournament._id %>" class="btn btn-danger btn-sm">
                    <i class="fas fa-trash-alt"></i> Delete
                  </a>
                </div>
              </td>
            </tr>
          <% }); %>
        </tbody>
      </table>
    </div>
  <% } else { %>
    <p class="text-center">No tournaments found.</p>
  <% } %>
</div>

<%- include('../Partials/footer.ejs') %>
